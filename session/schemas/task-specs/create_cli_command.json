{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://claude.ai/session-plugin/schemas/task-specs/create_cli_command.json",
  "title": "CreateCliCommandSpec",
  "description": "Lean specification for creating a CLI command",
  "type": "object",
  "required": ["command", "does"],
  "properties": {
    "command": {
      "type": "string",
      "description": "Command name"
    },
    "description": {
      "type": "string",
      "description": "Command description for help text"
    },
    "aliases": {
      "type": "array",
      "items": { "type": "string" },
      "description": "Command aliases"
    },
    "arguments": {
      "type": "array",
      "items": {
        "type": "object",
        "required": ["name"],
        "properties": {
          "name": { "type": "string" },
          "description": { "type": "string" },
          "required": { "type": "boolean", "default": true }
        }
      }
    },
    "options": {
      "type": "array",
      "items": {
        "type": "object",
        "required": ["flags"],
        "properties": {
          "flags": {
            "type": "string",
            "description": "Option flags, e.g. '-f, --force'"
          },
          "description": { "type": "string" },
          "required": { "type": "boolean", "default": false },
          "default": { "type": "string" },
          "choices": {
            "type": "array",
            "items": { "type": "string" }
          }
        }
      }
    },
    "does": {
      "type": "array",
      "items": { "type": "string" },
      "description": "Step-by-step what the command does"
    },
    "errors": {
      "type": "array",
      "items": { "type": "string" },
      "description": "Error cases to handle"
    },
    "imports": {
      "type": "array",
      "items": { "type": "string" },
      "description": "Required imports"
    },
    "patterns": {
      "type": "array",
      "items": { "type": "string" },
      "description": "File paths to similar commands to follow as patterns"
    }
  }
}
